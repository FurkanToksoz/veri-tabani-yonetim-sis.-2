create database etraid

create table country(
CountryID int identity(1,1) not null primary key,
country nvarchar(100)
)

create table Cities(
CityID int identity(1,1) not null primary key,
CountryID int foreign key(CountryID) references Country(CountryID)
)


create table Towns(
TownID int identity(1,1) not null primary key,
CityID int foreign key(CityID) references Cities(CityID),
Towns nvarchar(100)
)

create table District(
DistrictID int identity(1,1) not null primary key,
TownID int foreign key(TownID) references Towns(TownID),
Town nvarchar(100)
)



create table users(
id int identity(1,1) not null primary key,
username nvarchar(30) not null,
userpassword nvarchar(30) not null,
namesurname nvarchar(30) not null,
Email nvarchar(30)not null ,
Gender char(2),
Birthdate datetime,
Creatdate datetime,
telnr1 int,
telnr2 int
)


create table adresler(
AdresID int identity(1,1) not null primary key,
UserId int foreign key (UserID) references users(id),
CountryID int foreign key(CountryID) references Country(CountryID),
CityID int foreign key(CityID) references Cities(CityID),
TownID int foreign key(TownID) references Towns(TownID),
DistrictID int foreign key(DistrictID) references District(DistrictID),
Postalcode int,
Adrestext nvarchar(100)
)

create table orders(
orderID int identity(1,1) not null primary key,
id int foreign key (id) references users(id),
orderdate datetime,
totalprice nvarchar(30),
orderstats nvarchar(30),
AdresID int foreign key (AdresID) references adresler(AdresID)
)
select*from orders


create table items(
İtemID int identity(1,1) not null primary key,
İtemcode int,
İtemname nvarchar(100),
Unitprice int,
Category1 nvarchar(100),
Category2 nvarchar(100),
Category3 nvarchar(100),
Category4 nvarchar(100),
Brand nvarchar(100)
)

create table orderdetails(
DetailsID int identity(1,1) not null primary key,
orderID int foreign key (orderID) references orders(orderID),
itemID int foreign key(itemID) references items(itemID),
amount int,
unitprice int,
linetotal int
)
